{% extends 'logger/base.html' %}

{%block body %}
    <div class="kt-breadcrumb">
      <nav class="breadcrumb">
        <a class="breadcrumb-item" href="index.html">Dashboard</a>
        <span class="breadcrumb-item active">Sales</span>
      </nav>
    </div><!-- kt-breadcrumb -->

    <!-- ##### MAIN PANEL ##### -->
    <div class="kt-mainpanel">
      <div class="kt-pagetitle">
        <h5>Sales</h5>
      </div><!-- kt-pagetitle -->

      <div class="kt-pagebody">
        <div class="row row-sm">
          <div class="col-lg-12">
            <div class="card pd-20 pd-sm-40">
              <h6 class="card-body-title">Sales</h6>
              <p class="mg-b-20 mg-sm-b-30">Searching sales</p>
              <div class="d-flex">
                 <a href="{% url 'logger:add-new-sale' %}" class="btn btn-info bd-0 pd-x-20"><i class="fa fa-plus mg-r-5"></i>Add New</a>
               </div><!-- d-flex -->
              <div class="table-wrapper mg-t-20">
                <table id="sales" class="table display responsive nowrap">
                  <thead>
                    <tr>
                      <th class="wd-15p">Name</th>
                      <th class="wd-20p">Customer Type</th>
                      <th class="wd-20p">Product Name</th>
                      <th class="wd-15p">Supplier</th>
                      <th class="wd-12p">Serial Number</th>
                      <th class="wd-15p">Invoice_no</th>
                      <th class="wd-10p">Price</th>
                      <th class="wd-10p">Comments</th>
                      <th class="wd-10p">Date</th>
                      <th class="wd-10p">Warranty</th>
                    </tr>
                  </thead>
                  <tbody>
                    {%for object in object_list %}
                    <tr>
                      <td>{{object.customer.first_name}} {{object.customer.last_name}}</td>
                      <td>{{object.customer.customer_type}}</td>
                      <td>{{object.product_name}}</td>
                      <td>{{object.supplier}}</td>
                      <td>{{object.serial_number}}</td>
                      <td>{{object.invoice_no}}</td>
                      <td>{{object.price}}</td>
                      <td>{{object.comments}}</td>
                      <td>{{object.sale_date|date:"d-m-Y H:i"}}</td>
                      <td>{{object.warranty}}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div><!-- table-wrapper -->
            </div><!-- card -->
        </div><!-- col-12 -->
      </div><!-- row -->
      </div><!-- kt-pagebody -->
    </div><!-- kt-mainpanel -->

    {%endblock%}

    {%block scripts %}

    <script>
      $(function(){
        'use strict';

        $('#sales').DataTable({
          responsive: true,
          language: {
            searchPlaceholder: 'Search...',
            sSearch: '',
            lengthMenu: '_MENU_ items/page',
          }
        });

      });


    </script>

  {%endblock%}
